<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DASBEM — Realistic Loader (Enhanced)</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#06080a;
    --panel:#071018;
    --accent:#ffb347;
    --muted:#9fb0b6;
    --ok:#9ff2b7;
    --warn:#ffdba0;
    --err:#ff9b9b;
    --log-text:#dff3ea;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);font-family:"Fira Code",monospace;color:var(--log-text);overflow:hidden}
  
  #loader{
    position:fixed;inset:0;z-index:9999;
    display:flex;align-items:center;justify-content:center;
    background:radial-gradient(circle at 50% 40%, rgba(10,14,18,0.98), rgba(0,0,0,0.96));
  }

  #gridCanvas{
    position:absolute;inset:0;z-index:0;pointer-events:none;
    background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.65));
  }

  .panel{
    position:relative;z-index:2;
    width:100%;max-width:1200px;height:78vh;min-height:460px;
    border-radius:12px;overflow:hidden;
    background:linear-gradient(180deg, rgba(8,10,12,0.95), rgba(12,14,16,0.96));
    box-shadow:0 30px 80px rgba(0,0,0,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
    display:flex;gap:14px;
  }

  /* New stylish header zone (centered) */
  .panel-header{
    position:absolute;
    top:40px;left:0;right:0;
    text-align:center;
    pointer-events:none;
    z-index:3;
    animation:fadeIn 1.2s ease forwards;
  }
  .title{
    font-size:24px;
    font-weight:700;
    letter-spacing:1.4px;
    background:linear-gradient(90deg, #ffb347 0%, #ffe7b3 40%, #9fdfff 100%);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    text-shadow:0 0 12px rgba(255,180,120,0.18);
    margin-bottom:4px;
  }
  .subtitle{
    font-size:13px;
    color:var(--muted);
    letter-spacing:0.5px;
    opacity:0.85;
  }
  .divider{
    margin:10px auto 0 auto;
    width:180px;height:1px;
    background:linear-gradient(90deg, transparent, rgba(255,179,71,0.4), transparent);
    box-shadow:0 0 12px rgba(255,179,71,0.2);
  }

  @keyframes fadeIn{
    from{opacity:0;transform:translateY(-10px)}
    to{opacity:1;transform:translateY(0)}
  }

  /* terminal + right section same as before */
  .terminal{flex:1.4;padding:22px 18px 14px;border-right:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:12px;height:100%;min-width:300px;background:transparent}
  .log{flex:1;border-radius:8px;padding:10px 12px;background:linear-gradient(180deg, rgba(0,0,0,0.03), rgba(255,255,255,0.001));overflow:auto;scrollbar-width:thin}
  .line{font-size:13px;color:var(--log-text);white-space:pre;opacity:0;transform:translateX(-6px);transition:opacity .14s linear,transform .14s linear}
  .line.show{opacity:1;transform:translateX(0)}
  .ts{color:#bfcbd0;display:inline-block;min-width:120px;font-weight:700}
  .tag{color:var(--accent);min-width:140px;display:inline-block;font-weight:700}
  .ok{color:var(--ok)} .warn{color:var(--warn)} .err{color:var(--err)}

  .side{width:360px;min-width:220px;padding:18px;display:flex;flex-direction:column;gap:12px;background:linear-gradient(180deg, rgba(255,255,255,0.005), transparent)}
  .status{height:140px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;position:relative;}
  .orb{width:84px;height:84px;border-radius:50%;display:grid;place-items:center;font-weight:700;color:var(--accent);font-size:16px;box-shadow:0 0 40px rgba(255,179,71,0.06), inset 0 0 18px rgba(255,179,71,0.03)}
  .meta{font-size:12px;color:var(--muted);text-align:center}
  .file-list{flex:1;overflow:auto;padding:6px;border-radius:8px;background:rgba(0,0,0,0.02)}
  .file-item{display:flex;align-items:center;gap:10px;padding:8px;border-radius:6px}
  .file-name{flex:1;font-size:13px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .file-bar{width:130px;height:8px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden}
  .file-fill{height:100%;width:0;background:linear-gradient(90deg, rgba(255,179,71,0.18), var(--accent));transition:width 120ms linear}

  .bottom{padding:12px;border-top:1px solid rgba(255,255,255,0.02);display:flex;gap:12px;align-items:center}
  .overall{flex:1;height:12px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden}
  .overall .fill{height:100%;width:0;background:linear-gradient(90deg, rgba(255,179,71,0.16), var(--accent));box-shadow:0 6px 30px rgba(255,179,71,0.06);transition:width 120ms linear}
  .pct{min-width:56px;text-align:right;color:var(--muted);font-family:"Fira Code",monospace;font-size:13px}

  #mainApp{display:flex;align-items:center;justify-content:center;min-height:100vh;color:var(--log-text);opacity:0;visibility:hidden;transition:opacity .6s}
  #mainApp.show{opacity:1;visibility:visible}
  .hide{opacity:0;visibility:hidden;transition:opacity .6s ease,visibility .6s ease}

  @media (max-width:920px){
    .panel{flex-direction:column;height:84vh}
    .panel-header{top:18px}
    .title{font-size:20px}
    .terminal{padding:14px;border-right:none;border-bottom:1px solid rgba(255,255,255,0.02)}
    .side{width:100%;min-width:unset;padding:12px}
    .file-list{max-height:120px}
  }
</style>
</head>
<body>

<div id="loader">
  <canvas id="gridCanvas"></canvas>

  <div class="panel">
    <!-- New Center Header -->
    <div class="panel-header">
      <div class="title">DASBEM SYSTEM v1.0</div>
      <div class="subtitle">Initializing boundary-element modules — <span id="timeNow">--:--:--</span></div>
      <div class="divider"></div>
    </div>

    <div class="terminal">
      <div class="log" id="log"><div id="logInner"></div></div>
      <div class="bottom">
        <div class="overall"><div class="fill" id="overallFill"></div></div>
        <div class="pct" id="overallPct">0%</div>
      </div>
    </div>

    <div class="side">
      <div class="status">
        <div class="orb" id="orb">BEM</div>
        <div class="meta" id="meta">Kernel: boundary-solver · Mode: time-domain</div>
      </div>
      <div class="file-list" id="fileList"></div>
    </div>
  </div>
</div>

<main id="mainApp">
  <div>
    <h1 style="font-family:'Fira Code',monospace">The DASBEM Project</h1>
    <p style="color:var(--muted)">صفحهٔ اصلی — لودر به پایان رسید.</p>
  </div>
</main>

<script>
/* ---- Keep same JS logic as original ---- */
function iranNowParts(){try{const dtf=new Intl.DateTimeFormat('en-GB',{timeZone:'Asia/Tehran',hour12:false,hour:'2-digit',minute:'2-digit',second:'2-digit',year:'numeric',month:'2-digit',day:'2-digit'});const p=dtf.formatToParts(new Date());const g=t=>p.find(x=>x.type===t)?.value||'00';return{Y:g('year'),M:g('month'),D:g('day'),hh:g('hour'),mm:g('minute'),ss:g('second')}}catch(e){const d=new Date();const pad=n=>String(n).padStart(2,'0');return{Y:d.getFullYear(),M:pad(d.getMonth()+1),D:pad(d.getDate()),hh:pad(d.getHours()),mm:pad(d.getMinutes()),ss:pad(d.getSeconds())}}}
function iranStamp(){const p=iranNowParts();return `${p.hh}:${p.mm}:${p.ss}`;}
function updateSubtitleTime(){document.getElementById('timeNow').textContent=iranStamp();}
setInterval(updateSubtitleTime,1000);updateSubtitleTime();

/* ... (the rest of JS exactly like your version: loader sequence + grid animation) ... */
</script>
</body>
</html>
