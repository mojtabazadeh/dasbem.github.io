<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>DASBEM.IR</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/mojtabazadeh/dasbem.github.io/refs/heads/main/DASBEM.ico" sizes="48x48">
<style>
:root{
  --bg-dark:#1a1a1a;
  --text-light:#fff;
  --glass: rgba(255,255,255,0.12);
  --accent:#ffb347;
  --muted:#ddd;

  /* Loder Colors */
  --loader-bg:#050505;
  --loader-text:#39ff14;
  --loader-accent:#ff9900;
  --loader-gold:#ffcc33;
}

*{box-sizing:border-box;}
html,body{margin:0;padding:0;font-family:"Poppins",sans-serif;background:var(--bg-dark);color:var(--text-light);overflow-x:hidden;width:100%;}

/* ===== Loader Overlay ===== */
#siteLoader{
  position:fixed; inset:0; background:var(--loader-bg);
  z-index:9999; display:flex; flex-direction:column;
  justify-content:center; align-items:center; padding:30px;
}
#loader-header{color:var(--loader-accent); font-family:'Share Tech Mono', monospace; font-size:18px; margin-bottom:12px;}
#loader-viewport{
  flex:1; width:100%; max-height:60%; overflow-y:auto;
  background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
  border-radius:8px; border:1px solid rgba(255,255,255,0.03);
  padding:12px 14px; word-break:break-word;
}
.logLine{font-family:'Share Tech Mono', monospace; font-size:13px; line-height:1.25; margin:4px 0; color:var(--loader-text);}
.finalLine{color:var(--loader-gold); font-weight:700; font-size:15px;
  margin-top:10px; padding:6px 10px; border-radius:6px;
  background:linear-gradient(90deg, rgba(255,204,51,0.04), transparent);
  text-shadow:0 0 6px rgba(255,204,51,0.14);
}
.progressWrap{
  width:100%; height:16px; background:rgba(255,255,255,0.06);
  border-radius:10px; overflow:hidden; margin-top:16px; border:1px solid rgba(255,255,255,0.03);
}
.progressBar{
  width:0%; height:100%;
  background:linear-gradient(90deg,#ff9900,#ffcc33);
  transition:width 50ms linear;
}

/* ===== Page Styles (unchanged) ===== */
#waveCanvas{position:fixed;inset:0;width:100%;height:100%;z-index:0;pointer-events:none;}
header.site-header{position:relative;z-index:2;text-align:center;padding:80px 20px 60px;}
header.site-header h1{
  font-family:"Playfair Display",serif;font-size:3.8rem;font-weight:900;
  margin:0 0 18px;letter-spacing:2px;text-transform:uppercase;
  background:linear-gradient(90deg,#ffb347,#ffcc33,#ff7e5f);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  text-shadow:0 0 25px rgba(255,200,150,0.35), 0 0 40px rgba(255,180,120,0.45);
  display:inline-block;
  animation: glow 6s ease-in-out infinite;
  transition: transform .35s ease;
}
header.site-header p{font-size:1.3rem;color:var(--muted);max-width:780px;margin:0 auto;line-height:1.5;text-shadow:0 0 18px rgba(255,190,130,0.4), 0 0 30px rgba(255,160,100,0.25);animation: pulse 5s ease-in-out infinite alternate;}
@keyframes glow{0%,100%{text-shadow:0 0 20px rgba(255,200,150,0.3), 0 0 35px rgba(255,180,120,0.4);}50%{text-shadow:0 0 45px rgba(255,200,150,0.6), 0 0 70px rgba(255,180,120,0.7);}}
@keyframes pulse{0%{opacity:0.8;transform:translateY(0);}50%{opacity:1;transform:translateY(-3px);}100%{opacity:0.8;transform:translateY(0);}}

.wrap{position:relative;z-index:2;max-width:1200px;margin:20px auto;padding:0 10px;display:flex;flex-direction:column;align-items:center;}
.header{display:flex;gap:28px;align-items:flex-start;justify-content:center;flex-wrap:wrap;margin-bottom:36px;}
.researcher{position:relative;width:300px;min-width:260px;display:flex;flex-direction:column;align-items:center;backdrop-filter: blur(10px);padding:18px;border-radius:20px;background:var(--glass);box-shadow:0 10px 40px rgba(0,0,0,0.55);transition:transform .35s ease, box-shadow .35s ease, filter .35s ease;}
.researcher:hover{ transform:translateY(-8px); box-shadow:0 18px 50px rgba(0,0,0,0.7); }
.photo-frame{position:relative;width:168px;height:168px;border-radius:50%;overflow:hidden;padding:6px;background:radial-gradient(circle at 30% 20%, rgba(255,255,255,0.08), transparent 30%);display:flex;align-items:center;justify-content:center;box-shadow: 0 6px 24px rgba(0,0,0,0.45), 0 0 18px rgba(255,255,255,0.15) inset;margin-bottom:12px;border: 3px solid rgba(255,255,255,0.09);transition: transform 1.2s ease-in-out;}
.photo-frame img{width:100%;height:100%;border-radius:50%;object-fit:cover;transition: transform 1.2s ease-in-out;}
.name{font-family:"Playfair Display",serif;font-size:1.3rem;font-weight:700;color:var(--text-light);letter-spacing:0.6px;text-align:center;display:flex;flex-direction:column;align-items:center;transition: transform 1s ease-in-out;}
.name .title-small{ font-size:1rem;font-weight:500;color:var(--muted);margin-top:4px;text-align:center;}
.contact{margin-top:6px;font-size:0.9rem;color:var(--accent);text-align:center;display:flex;flex-direction:column;gap:2px;}
.contact a{color:var(--accent);text-decoration:none;font-weight:600;}
.contact a:hover{text-decoration:underline;}
.researcher:hover .photo-frame{ transform: translateY(-2px);}
.researcher:hover .name{ transform: translateY(2px);}

/* (تمام CSSهای سایت بدون تغییر، شامل papers، buttons، wizard، footer، responsive...) */
</style>
</head>
<body style="opacity:0; transition:opacity 0.7s ease;">

<!-- ===== Loader ===== -->
<div id="siteLoader">
  <div id="loader-header">Initializing The DASBEM Project Core...</div>
  <div id="loader-viewport"></div>
  <div class="progressWrap"><div class="progressBar" id="progressBar"></div></div>
</div>

<!-- سایت اصلی -->
<canvas id="waveCanvas" aria-hidden="true"></canvas>

<header class="site-header">
  <h1>The DASBEM Project</h1>
  <p>Dynamic Analysis of Structures by Boundary Element Method</p>
</header>

<div class="wrap">
  <!-- Researchers, papers, wizard... کد اصلی سایت بدون تغییر -->
</div>

<footer class="site-footer">
  The DASBEM Project ©
</footer>

<div id="wizard" class="wizard" role="dialog" aria-hidden="true">
  <div class="w-thumb" id="w-thumb"></div>
  <div class="w-body" id="w-body"></div>
</div>

<script>
/* ===== Loader Script (کد اصلی لودر شما) ===== */
const REDIRECT = null; // همین صفحه
const TOTAL_DURATION = 4000; // ms
const TOTAL_LINES = 350;

const viewport = document.getElementById('loader-viewport');
const progressBar = document.getElementById('progressBar');

function rnd(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }
function pick(arr){ return arr[rnd(0,arr.length-1)]; }

const stages = [
  "Initializing computational kernel...",
  "Loading half-space fundamental solution coefficients...",
  "Reading boundary element matrices...",
  "Assembling influence coefficients...",
  "Integrating transient SH-wave responses...",
  "Applying free-surface boundary conditions...",
  "Computing displacement and stress vectors...",
  "Optimizing recursive convolution windows...",
  "Storing intermediate snapshots...",
  "Finalizing time-domain solver...",

  "Evaluating elastodynamic Green's functions [G{rnd}]...",
  "Performing LU factorization on influence submatrix {sub}...",
  "Computing boundary integral for SH-wave field [SH{rnd}].res...",
  "Synchronizing half-space radiation conditions...",
  "Post-processing spectral amplification map [AMP{rnd}].amp...",
  "Loading convolution memory blocks {blk} of {totalBlk}...",
  "Applying non-reflective boundary matrix at edge {edge}...",
  "Transforming local to global coordinate system '{coordSys}'...",
  "Storing intermediate response snapshot [RS{rnd}].bin...",
  "Validating HSTD-BEM residuals (tolerance={tol})...",
  "Exporting motion history segment [MH{rnd}].out...",
  "Initializing recursive time-domain solver module '{mod}'..."
];

function makeLine(){
  const stage = pick(stages);
  let extra = "";
  if(stage.includes("coefficients") || stage.includes("matrices")) extra = " [F"+rnd(1000,9999)+".bin]";
  if(stage.includes("snapshots") || stage.includes("response")) extra = " [S"+rnd(100,999)+"]";
  if(stage.includes("convolution") || stage.includes("memory")) extra = " window="+rnd(10,500)+"ms";
  if(stage.includes("displacement") || stage.includes("stress") || stage.includes("SH-wave")) extra = " Node"+rnd(10,999);
  if(stage.includes("Green's functions")) extra = " [G"+rnd(1000,9999)+".dat]";
  if(stage.includes("spectral amplification")) extra = " [AMP"+rnd(10,99)+"]";
  if(stage.includes("motion history")) extra = " [MH"+rnd(1000,9999)+".out]";
  if(stage.includes("recursive time-domain solver")) extra = " Module-"+pick(["kern","conv","io","solver","post"]);

  return stage.replace(/\{rnd\}/g, () => rnd(1000,9999))
              .replace(/\{sub\}/g, () => "K"+rnd(1,99))
              .replace(/\{blk\}/g, () => rnd(1,24))
              .replace(/\{totalBlk\}/g, () => rnd(24,128))
              .replace(/\{edge\}/g, () => rnd(0,7))
              .replace(/\{coordSys\}/g, () => pick(["local","global","geo"]))
              .replace(/\{tol\}/g, () => (Math.random()*1e-3).toExponential(2))
              + extra;
}

let loadedCount = 0;
function pushLine(text, final=false){
  const el = document.createElement('div');
  el.className = 'logLine';
  if(final) el.classList.add('finalLine');
  el.textContent = text;
  viewport.appendChild(el);
  while(viewport.children.length>220) viewport.removeChild(viewport.children[0]);
  viewport.scrollTop = viewport.scrollHeight;

  loadedCount++;
  const pct = Math.min(100, Math.round((loadedCount/TOTAL_LINES)*100));
  progressBar.style.width = pct+"%";
}

const timestamps = Array.from({length:TOTAL_LINES}, (_,i)=>{
  const base = (i/TOTAL_LINES)*TOTAL_DURATION;
  const jitter = (1 - Math.abs(i/TOTAL_LINES-0.5)*2)*30;
  return base + (Math.random()*jitter*2 - jitter);
});

function startLoader(){
  for(let i=0;i<TOTAL_LINES;i++){
    setTimeout(((idx)=>{
      return function(){ pushLine(makeLine()); };
    })(i), timestamps[i]);
  }

  setTimeout(()=>{
    pushLine("DASBEM Core successfully initialized. Entering Main Interface.", true);
    const loader=document.getElementById('siteLoader');
    loader.style.transition="opacity 0.7s ease";
    loader.style.opacity=0;
    document.body.style.opacity=1;
    setTimeout(()=>loader.remove(),700);
  }, TOTAL_DURATION+200);
}

startLoader();
</script>

<script>
/* ===== Background & Wizard Script (unchanged) ===== */
/* تمام اسکریپت سایت شما بدون تغییر */
</script>

</body>
</html>
