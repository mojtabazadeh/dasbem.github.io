<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>The DASBEM Project — Researchers</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;font-family:'Poppins',sans-serif;background:#000;color:#fff;overflow-x:hidden}

/* ==== HEADER ==== */
header{padding:2rem;text-align:center;position:relative;z-index:5}
header h1{
  font-family:'Playfair Display',serif;
  font-size:clamp(2rem,5vw,4rem);
  color:#fff;
  text-shadow:0 0 12px #0ff,0 0 24px #0ff,0 0 48px #0ff;
  animation:flicker 3s infinite;
}
@keyframes flicker{
  0%,19%,21%,23%,25%,54%,56%,100%{opacity:1;text-shadow:0 0 12px #0ff,0 0 24px #0ff,0 0 48px #0ff;}
  20%,24%,55%{opacity:.6;text-shadow:none}
}

/* ==== BACKGROUND ==== */
#bg-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0}

/* ==== PAPERS ==== */
main{position:relative;z-index:2;max-width:1000px;margin:2rem auto;padding:1rem;display:grid;gap:1.5rem}
.paper{
  background:rgba(255,255,255,.08);
  border-radius:12px;
  padding:1rem;
  display:flex;
  gap:1rem;
  cursor:pointer;
  transition:background .3s;
}
.paper:hover{background:rgba(255,255,255,.15)}
.thumb img{width:120px;height:80px;object-fit:cover;border-radius:8px}
.meta{flex:1}
.p-title{font-size:1.1rem;font-weight:600}
.p-auth{font-size:.9rem;color:#ccc}
.year{font-size:.85rem;color:#aaa;margin-left:.5rem}

/* ==== WIZARD ==== */
#wizard{
  position:fixed;top:0;left:0;min-width:240px;max-width:340px;
  background:rgba(20,20,20,.9);backdrop-filter:blur(8px);
  border:1px solid rgba(255,255,255,.2);border-radius:10px;
  padding:1rem;box-shadow:0 0 12px rgba(0,255,255,.5);
  opacity:0;pointer-events:none;transition:opacity .2s ease;
  z-index:999;
}
#wizard.show{opacity:1}
#w-thumb img{width:100%;border-radius:6px;margin-bottom:.5rem}
#w-body{max-height:200px;overflow:auto;font-size:.85rem;color:#ddd}

/* ==== FOOTER ==== */
footer{
  text-align:center;
  padding:1.5rem;
  margin-top:2rem;
  background:rgba(255,255,255,.05);
  font-size:.85rem;
  color:#aaa;
  z-index:5;
  position:relative;
  border-top:1px solid rgba(255,255,255,.1);
}

/* ==== MOBILE ==== */
@media(max-width:768px){
  /* بک‌گراند موبایل: گرادیانت متحرک */
  #bg-canvas{display:none}
  body::before{
    content:"";position:fixed;top:0;left:0;width:100%;height:100%;
    background:linear-gradient(-45deg,#111,#222,#111);
    background-size:400% 400%;
    animation:grad 15s ease infinite;
    z-index:0;
  }
  @keyframes grad{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }
}
</style>
</head>
<body>
<canvas id="bg-canvas"></canvas>

<header>
  <h1>The DASBEM Project — Researchers</h1>
</header>

<main id="paperList"></main>
<div id="wizard" role="dialog" aria-hidden="true">
  <div id="w-thumb"></div>
  <div id="w-body"></div>
</div>

<footer>
  © 2025 Saeed Mojtabazadeh. All rights reserved.
</footer>

<script>
// ===== BACKGROUND =====
if(window.innerWidth>768){
  const canvas=document.getElementById('bg-canvas');
  const gl=canvas.getContext('webgl',{antialias:true});
  function resize(){canvas.width=innerWidth;canvas.height=innerHeight;gl.viewport(0,0,gl.canvas.width,gl.canvas.height)}
  resize();window.addEventListener('resize',resize);

  const vs=`attribute vec3 p;void main(){gl_PointSize=2.0;gl_Position=vec4(p,1.0);}`;
  const fs=`void main(){gl_FragColor=vec4(0.0,1.0,1.0,0.9);}`;
  function compile(t,s){const sh=gl.createShader(t);gl.shaderSource(sh,s);gl.compileShader(sh);return sh;}
  const prog=gl.createProgram();gl.attachShader(prog,compile(gl.VERTEX_SHADER,vs));gl.attachShader(prog,compile(gl.FRAGMENT_SHADER,fs));gl.linkProgram(prog);gl.useProgram(prog);

  const COUNT=400;
  const data=new Float32Array(COUNT*3);
  for(let i=0;i<COUNT*3;i++)data[i]=Math.random()*2-1;
  const buf=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,buf);gl.bufferData(gl.ARRAY_BUFFER,data,gl.DYNAMIC_DRAW);
  const loc=gl.getAttribLocation(prog,'p');gl.enableVertexAttribArray(loc);gl.vertexAttribPointer(loc,3,gl.FLOAT,false,0,0);

  function animate(){
    for(let i=0;i<COUNT*3;i+=3){
      data[i+1]-=0.002;
      if(data[i+1]<-1)data[i+1]=1;
    }
    gl.bufferSubData(gl.ARRAY_BUFFER,0,data);
    gl.clear(gl.COLOR_BUFFER_BIT);
    gl.drawArrays(gl.POINTS,0,COUNT);
    requestAnimationFrame(animate);
  }
  animate();
}

// ===== PAPERS =====
const papers=[
  {title:"Dynamic Analysis of Soil–Structure Interaction",authors:"S. Mojtabazadeh, M. Panji",year:"2023",thumb:"https://picsum.photos/300/160?random=1",abstract:"Full abstract of paper 1 ..."},
  {title:"Topographic Effects on Seismic Response",authors:"S. Mojtabazadeh",year:"2022",thumb:"https://picsum.photos/300/160?random=2",abstract:"Full abstract of paper 2 ..."},
  {title:"Hybrid BEM–FEM Modeling for Geo-Seismic Systems",authors:"M. Panji",year:"2021",thumb:"https://picsum.photos/300/160?random=3",abstract:"Full abstract of paper 3 ..."},
  {title:"Isolation Systems for Seismic Mitigation",authors:"S. Mojtabazadeh, M. Panji",year:"2020",thumb:"https://picsum.photos/300/160?random=4",abstract:"Full abstract of paper 4 ..."}
];
const list=document.getElementById('paperList');
const wizard=document.getElementById('wizard');
const wThumb=document.getElementById('w-thumb');
const wBody=document.getElementById('w-body');

papers.forEach(p=>{
  const node=document.createElement('div'); node.className='paper';
  node.innerHTML=`<div class="thumb"><img src="${p.thumb}" alt=""></div>
                  <div class="meta"><div class="p-title">${p.title}</div>
                  <div class="p-auth">${p.authors}<span class="year">${p.year}</span></div></div>`;
  node.addEventListener('mouseenter',(ev)=>{
    wThumb.innerHTML=`<img src="${p.thumb}" alt="">`;
    wBody.textContent=p.abstract;
    pos(ev.clientX+18,ev.clientY+12);
    wizard.classList.add('show');
    wizard.setAttribute('aria-hidden','false');
  });
  node.addEventListener('mousemove',(ev)=>pos(ev.clientX+18,ev.clientY+12));
  node.addEventListener('mouseleave',()=>{
    wizard.classList.remove('show');
    wizard.setAttribute('aria-hidden','true');
  });
  node.addEventListener('wheel',(e)=>{
    if(wizard.classList.contains('show')){e.preventDefault();wBody.scrollTop+=e.deltaY;}
  });
  list.appendChild(node);
});

function pos(x,y){
  const w=wizard.offsetWidth,h=wizard.offsetHeight;
  let nx=x,ny=y;
  if(nx+w>innerWidth-12)nx=innerWidth-w-12;
  if(ny+h>innerHeight-12)ny=innerHeight-h-12;
  wizard.style.left=nx+'px';wizard.style.top=ny+'px';
}
</script>
</body>
</html>
