<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>The DASBEM Project — Researchers & Papers</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg-dark:#1a1a1a;
  --text-light:#fff;
  --glass: rgba(255,255,255,0.12);
  --accent:#ffb347;
  --muted:#ddd;
}

*{box-sizing:border-box;}
body{margin:0;font-family:"Poppins",sans-serif;background:var(--bg-dark);color:var(--text-light);overflow-x:hidden;}

/* ===== Page Loader ===== */
#siteLoader{position:fixed;inset:0;background:var(--bg-dark);z-index:9999;display:flex;align-items:center;justify-content:center;transition:opacity 1s ease;}
#siteLoader div{color:var(--accent);font-family:'Playfair Display',serif;font-size:2rem;opacity:0;animation:loaderFade 1.5s forwards;}
@keyframes loaderFade{0%{opacity:0;transform:translateY(15px);}100%{opacity:1;transform:translateY(0);}}

/* ===== Background canvas ===== */
#waveCanvas{position:fixed;inset:0;width:100%;height:100%;z-index:0;pointer-events:none;}

/* ===== Header ===== */
header.site-header{
  position:relative;z-index:2;text-align:center;padding:80px 20px 60px;
}
header.site-header h1{
  font-family:"Playfair Display",serif;font-size:3.8rem;font-weight:900;
  margin:0 0 18px;letter-spacing:2px;text-transform:uppercase;
  background:linear-gradient(90deg,#ffb347,#ffcc33,#ff7e5f);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  text-shadow:0 0 25px rgba(255,200,150,0.35), 0 0 40px rgba(255,180,120,0.45);
  display:inline-block;
  animation: glow 6s ease-in-out infinite;
  transition: transform .35s ease;
}
@keyframes glow{
  0%,100%{text-shadow:0 0 20px rgba(255,200,150,0.3), 0 0 35px rgba(255,180,120,0.4);}
  50%{text-shadow:0 0 45px rgba(255,200,150,0.6), 0 0 70px rgba(255,180,120,0.7);}
}
header.site-header p{
  font-size:1.3rem;color:var(--muted);max-width:780px;margin:0 auto;line-height:1.5;
  text-shadow:0 0 18px rgba(255,190,130,0.4), 0 0 30px rgba(255,160,100,0.25);
  animation: pulse 5s ease-in-out infinite alternate;
}
@keyframes pulse{
  0%{opacity:0.8;transform:translateY(0);}
  50%{opacity:1;transform:translateY(-3px);}
  100%{opacity:0.8;transform:translateY(0);}
}

/* ===== Researchers ===== */
.wrap{position:relative;z-index:2;max-width:1200px;margin:20px auto;padding:0 18px;opacity:0; transform:translateY(20px); transition:all 0.8s ease-out;}
.header{display:flex;gap:28px;align-items:flex-start;justify-content:center;flex-wrap:wrap;margin-bottom:36px;}
.researcher{
  position:relative;width:300px;min-width:260px;
  display:flex;flex-direction:column;align-items:center;
  backdrop-filter: blur(10px);padding:18px;border-radius:20px;
  background:var(--glass);
  box-shadow:0 10px 40px rgba(0,0,0,0.55);
  transition:transform .35s ease, box-shadow .35s ease, opacity .8s ease, filter .35s ease;
  opacity:0; transform:translateY(20px);
}
.researcher:hover{ transform:translateY(-8px); box-shadow:0 18px 50px rgba(0,0,0,0.7); }

.photo-frame{
  position:relative;width:168px;height:168px;border-radius:50%;overflow:hidden;
  padding:6px;background:radial-gradient(circle at 30% 20%, rgba(255,255,255,0.08), transparent 30%);
  display:flex;align-items:center;justify-content:center;
  box-shadow: 0 6px 24px rgba(0,0,0,0.45), 0 0 18px rgba(255,255,255,0.15) inset;
  margin-bottom:12px;
  border: 3px solid rgba(255,255,255,0.09);
  transition: transform 1.2s ease-in-out;
}
.photo-frame img{width:100%;height:100%;border-radius:50%;object-fit:cover;transition: transform 1.2s ease-in-out;}

.name{
  font-family:"Playfair Display",serif;font-size:1.3rem;font-weight:700;color:var(--text-light);
  letter-spacing:0.6px;text-align:center;display:flex;flex-direction:column;align-items:center;transition: transform 1s ease-in-out;
}
.name .title-small{ font-size:1rem;font-weight:500;color:var(--muted);margin-top:4px;text-align:center;}
.contact{margin-top:6px;font-size:0.9rem;color:var(--accent);text-align:center;display:flex;flex-direction:column;gap:2px;}
.contact a{color:var(--accent);text-decoration:none;font-weight:600;}
.contact a:hover{text-decoration:underline;}
.researcher:hover .photo-frame{ transform: translateY(-2px);}
.researcher:hover .name{ transform: translateY(2px);}

/* ===== Papers ===== */
.papers{margin-top:28px;padding:18px;border-radius:12px;background:var(--glass);box-shadow:0 12px 30px rgba(0,0,0,0.45);}
.papers h3{ margin:0 0 12px 0;font-size:1.5rem;font-family:"Playfair Display",serif;}
.paper-list{ display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px; }
.paper{
  background: rgba(255,255,255,0.12);
  padding:12px;border-radius:12px;display:flex;flex-direction:column;
  gap:10px;align-items:center;transition:transform .4s ease, box-shadow .4s ease, opacity .8s ease, filter .35s ease;
  cursor:pointer;
  opacity:0; transform:translateY(20px);
}
.paper:hover{ transform:translateY(-6px); box-shadow:0 18px 40px rgba(0,0,0,0.5); }
.paper .thumb{ width:100%;height:160px;border-radius:12px;overflow:hidden; display:flex;align-items:center;justify-content:center;color:#222;}
.paper .thumb img{width:100%;height:100%;object-fit:cover;}
.paper .meta{ flex:1; text-align:center;margin-top:6px; }
.paper .meta .p-title{ font-weight:700; font-size:1rem; color:var(--text-light); margin-bottom:4px; }
.paper .meta .p-auth{ font-size:0.9rem; color:var(--muted);}
.paper .meta .p-auth span.year{ display:block; font-style:italic; color:var(--accent); margin-top:2px;}

/* ===== Download Button ===== */
.download-btn{
  display:inline-block;
  padding:8px 18px;
  font-size:0.9rem;
  font-weight:600;
  color:#fff;
  background: linear-gradient(135deg,#ff7e5f,#feb47b);
  border:none;
  border-radius:10px;
  cursor:pointer;
  text-decoration:none;
  transition:all 0.3s ease;
  box-shadow:0 4px 15px rgba(255,126,95,0.4);
}
.download-btn:hover{
  transform:translateY(-3px) scale(1.05);
  box-shadow:0 8px 25px rgba(255,126,95,0.6);
}
.download-btn:active{
  transform:translateY(0) scale(0.98);
  box-shadow:0 4px 12px rgba(255,126,95,0.5);
}

/* ===== Wizard popup ===== */
.wizard{position:fixed;z-index:9999;pointer-events:none;opacity:0;transform:scale(.95);
transition:all .16s ease;max-width:380px;background: rgba(0,0,0,0.85);
border-radius:12px;padding:12px;
box-shadow: 0 12px 40px rgba(0,0,0,0.8);display:flex;gap:10px;flex-direction:column;}
.wizard.show{ opacity:1; transform:scale(1); pointer-events:auto; }
.wizard .w-thumb{ width:100%;height:200px;border-radius:12px;overflow:hidden;background:#111; }
.wizard .w-thumb img{width:100%;height:100%;object-fit:cover;}
.wizard .w-body{ font-size:0.9rem; color:#fff; line-height:1.5; max-height:200px; overflow-y:auto; padding-right:6px; text-align:justify; }

/* ===== Footer ===== */
footer.site-footer{
  text-align:center;
  font-size:0.9rem;
  padding:14px 0;
  color:var(--text-light);
}

/* ===== Responsive adjustments ===== */
@media (max-width:900px){
  .header{gap:18px}
  .researcher{width:42%}
  .photo-frame{width:140px;height:140px}
}

@media (max-width:640px){
  header.site-header{padding:50px 20px 40px;}
  header.site-header h1{font-size:2.8rem;}
  header.site-header p{font-size:1.1rem;}
  .researcher{width:100%;flex-direction:row;align-items:center;padding:12px}
  .photo-frame{width:96px;height:96px;margin-right:12px}
  .name{align-items:flex-start;font-size:1rem}
}
</style>
</head>
<body>

<!-- Page loader -->
<div id="siteLoader"><div>Loading...</div></div>

<canvas id="waveCanvas" aria-hidden="true"></canvas>

<header class="site-header">
  <h1>The DASBEM Project</h1>
  <p>Dynamic Analysis of Structures by Boundary Element Method</p>
</header>

<div class="wrap">
  <div class="header" aria-label="Researchers">
    <!-- Researcher 1 -->
    <section class="researcher" id="r1" aria-labelledby="r1-name">
      <div class="photo-frame" aria-hidden="true">
        <img src="https://github.com/mojtabazadeh/dasbemproject.github.io/blob/main/Dr.%20Mehdi%20Panji.jpg?raw=true" alt="Dr. Mehdi Panji photo">
      </div>
      <div class="name" id="r1-name">
        <span>Dr. Mehdi Panji</span>
        <span class="title-small">Associate Professor</span>
        <div class="contact">
          <a href="mailto:m.panji@iauz.ac.ir">m.panji@iauz.ac.ir</a>
          <a href="https://www.panji.ir">www.panji.ir</a>
        </div>
      </div>
    </section>

    <!-- Researcher 2 -->
    <section class="researcher" id="r2" aria-labelledby="r2-name">
      <div class="photo-frame" aria-hidden="true">
        <img src="https://github.com/mojtabazadeh/dasbemproject.github.io/blob/main/Dr.%20Saeed%20Mojtabazadeh.png?raw=true" alt="Dr. Saeed Mojtabazadeh photo">
      </div>
      <div class="name" id="r2-name">
        <span>Dr. Saeed Mojtabazadeh</span>
        <span class="title-small">Postdoctoral Fellow</span>
        <div class="contact">
          <a href="mailto:saeed.@mojtabazadeh.ir">saeed.@mojtabazadeh.ir</a>
          <a href="https://www.mojtabazadeh.ir">www.mojtabazadeh.ir</a>
        </div>
      </div>
    </section>
  </div>

  <!-- Papers Section -->
  <section class="papers" aria-label="Papers">
    <h3>Free Downloadable Papers</h3>
    <div class="paper-list" id="paperList"></div>
  </section>
</div>

<!-- Footer -->
<footer class="site-footer">
  Saeed Mojtabazadeh ©
</footer>

<!-- Wizard popup -->
<div id="wizard" class="wizard" role="dialog" aria-hidden="true">
  <div class="w-thumb" id="w-thumb"></div>
  <div class="w-body" id="w-body"></div>
</div>

<script>
/* ===== Page Loader & fade-in ===== */
window.addEventListener('load',()=>{
  const loader=document.getElementById('siteLoader');
  loader.style.opacity='0';
  setTimeout(()=>loader.remove(),1000);

  const wrap=document.querySelector('.wrap');
  wrap.style.opacity='1'; wrap.style.transform='translateY(0)';

  const researchers=document.querySelectorAll('.researcher');
  researchers.forEach((el,i)=>setTimeout(()=>{el.style.opacity='1'; el.style.transform='translateY(0)';}, i*150));

  const papers=document.querySelectorAll('.paper');
  papers.forEach((el,i)=>setTimeout(()=>{el.style.opacity='1'; el.style.transform='translateY(0)';}, 500+i*180));
});

/* ===== Background particles with depth & mouse interaction ===== */
(function(){
  const canvas=document.getElementById('waveCanvas');
  const ctx=canvas.getContext('2d');
  let particles=[];
  let isMobile=window.innerWidth<=640;
  const mouse={x:-999,y:-999};

  function resize(){
    canvas.width=innerWidth;
    canvas.height=innerHeight;
    initParticles();
  }

  function initParticles(){
    const count=isMobile?50:120;
    particles=Array.from({length:count},()=>({
      x:Math.random()*innerWidth,
      y:Math.random()*innerHeight,
      z:Math.random(),
      r:Math.random()*3+1,
      vx:(Math.random()-0.5)*(isMobile?0.5:0.6),
      vy:(Math.random()-0.5)*(isMobile?0.5:0.6)
    }));
  }

  function draw(){
    ctx.clearRect(0,0,innerWidth,innerHeight);
    for(let p of particles){
      const dx=mouse.x-p.x, dy=mouse.y-p.y;
      const dist=Math.hypot(dx,dy);
      if(dist<80 && dist>0){p.x-=dx*0.003; p.y-=dy*0.003;}

      const alpha = 0.2 + (1 - p.z) * 0.6;
      const size = p.r * (1 + (1 - p.z) * 1.5);
      ctx.fillStyle=`rgba(255,200,150,${alpha})`;
      ctx.beginPath();
      ctx.arc(p.x,p.y,size,0,Math.PI*2);
      ctx.fill();

      p.x+=p.vx; p.y+=p.vy;
      if(p.x<0||p.x>innerWidth)p.vx*=-1;
      if(p.y<0||p.y>innerHeight)p.vy*=-1;
    }

    for(let i=0;i<particles.length;i++){
      for(let j=i+1;j<particles.length;j++){
        const a=particles[i], b=particles[j];
        const dx=a.x-b.x, dy=a.y-b.y, d=Math.hypot(dx,dy);
        if(d<180){
          const alpha = ((1 - Math.max(a.z,b.z)) * 0.25) * (1 - d/180); 
          ctx.strokeStyle=`rgba(255,180,120,${alpha})`;
          ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
        }
      }
    }
    requestAnimationFrame(draw);
  }

  window.addEventListener('resize',()=>{
    isMobile=window.innerWidth<=640;
    resize();
  });
  window.addEventListener('mousemove',(e)=>{mouse.x=e.clientX;mouse.y=e.clientY;});
  window.addEventListener('mouseleave',()=>{mouse.x=-999;mouse.y=-999;});

  resize();
  draw();
})();

/* ===== Papers & Researchers Wizard + download ===== */
(function(){
  const papers=[
    {title:"Wave Propagation in Orthotropic Media",authors:"M. Panji, S. Mojtabazadeh",year:"2023",href:"#",thumb:"https://picsum.photos/300/160?random=1",abstract:"Complete formulation of attenuated orthotropic time-domain BEM for SH-wave scattering."},
    {title:"Topographic Effects on Seismic Response",authors:"S. Mojtabazadeh",year:"2022",href:"#",thumb:"https://picsum.photos/300/160?random=2",abstract:"Half-plane time-domain BEM for 2-D scalar wave with site effects."},
    {title:"Hybrid BEM–FEM Modeling for Geo-Seismic Systems",authors:"M. Panji",year:"2021",href:"#",thumb:"https://picsum.photos/300/160?random=3",abstract:"Integrated BEM–FEM framework for complex geotechnical structures."},
    {title:"Isolation Systems for Seismic Mitigation",authors:"S. Mojtabazadeh, M. Panji",year:"2020",href:"#",thumb:"https://picsum.photos/300/160?random=4",abstract:"Evaluates passive and semi-active isolation techniques."}
  ];
  const list=document.getElementById('paperList');
  const wizard=document.getElementById('wizard');
  const wThumb=document.getElementById('w-thumb');
  const wBody=document.getElementById('w-body');

  papers.forEach(p=>{
    const node=document.createElement('div'); node.className='paper';
    node.innerHTML=`
      <div class="thumb"><img src="${p.thumb}" alt=""></div>
      <div class="meta"><div class="p-title">${p.title}</div>
      <div class="p-auth">${p.authors}<span class="year">${p.year}</span></div></div>
      <a href="${p.href}" target="_blank" class="download-btn">Download</a>`;
    node.addEventListener('mouseenter',(ev)=>{
      wThumb.innerHTML=`<img src="${p.thumb}" alt="">`;
      wBody.textContent=p.abstract;
      positionWizard(ev.clientX+18,ev.clientY+12); wizard.classList.add('show'); wizard.setAttribute('aria-hidden','false');
    });
    node.addEventListener('mousemove',(ev)=>positionWizard(ev.clientX+18,ev.clientY+12));
    node.addEventListener('mouseleave',()=>{wizard.classList.remove('show'); wizard.setAttribute('aria-hidden','true');});
    node.addEventListener('wheel',(e)=>{
      if(wizard.classList.contains('show')){e.preventDefault(); wBody.scrollTop+=e.deltaY;}
    });
    list.appendChild(node);
  });

  const researchers=[
    {id:'r1',thumb:'https://picsum.photos/400/400?random=5',bio:"Dr. Mehdi Panji: Associate Professor, 15+ years in structural analysis & BEM."},
    {id:'r2',thumb:'https://picsum.photos/400/400?random=6',bio:"Dr. Saeed Mojtabazadeh: Postdoc in seismic wave propagation & hybrid BEM–FEM."}
  ];

  researchers.forEach(r=>{
    const elem=document.getElementById(r.id);
    const frameElem=elem.querySelector('.photo-frame');
    frameElem.addEventListener('mouseenter',(ev)=>{
      wThumb.innerHTML=`<img src="${r.thumb}" alt="">`;
      wBody.textContent=r.bio;
      positionWizard(ev.clientX+18,ev.clientY+12);
      wizard.classList.add('show');
      wizard.setAttribute('aria-hidden','false');
    });
    frameElem.addEventListener('mousemove',(ev)=>positionWizard(ev.clientX+18,ev.clientY+12));
    frameElem.addEventListener('mouseleave',()=>{
      wizard.classList.remove('show');
      wizard.setAttribute('aria-hidden','true');
    });
    frameElem.addEventListener('click',(ev)=>{
      if(window.innerWidth<=640){
        wThumb.innerHTML=`<img src="${r.thumb}" alt="">`;
        wBody.textContent=r.bio;
        positionWizard(ev.clientX,ev.clientY);
        wizard.classList.add('show');
        wizard.setAttribute('aria-hidden','false');
      }
    });
  });

  window.addEventListener('keydown',(e)=>{if(e.key==='Escape'){wizard.classList.remove('show');wizard.setAttribute('aria-hidden','true');}});

  function positionWizard(x,y){
    const w=wizard.offsetWidth,h=wizard.offsetHeight;
    let nx=x,ny=y;
    if(nx+w>window.innerWidth-12) nx=window.innerWidth-w-12;
    if(ny+h>window.innerHeight-12) ny=window.innerHeight-h-12;
    wizard.style.left=nx+'px'; wizard.style.top=ny+'px';
  }
})();
</script>
</body>
</html>
